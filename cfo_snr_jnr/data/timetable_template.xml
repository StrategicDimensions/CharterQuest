<?xml version="1.0" encoding="utf-8"?>
<odoo>
<data>
    <template id="time_table_report">
            <t t-call="web.external_layout">
                <center><h2>Time Table</h2></center>
                <div class="page" id="time_table">
                        <t t-foreach="docids" t-as="time">
                            <div style="margin-top:5px;">
                                <div class="form-group">
                                </div>
                            </div>
                            <div class="table-responsive">
                                <table class="table table-bordered time_table_main">
                                    <caption
                                            style="color:black;border: 1px solid gainsboro;padding: 5px;background:#d9edf7;">
                                        <b>
                                            <span t-esc="time.semester_id.name"/>
                                            -
                                            <span t-esc="time.qualification_id.name"/>
                                            -
                                            <span t-esc="time.name"/>
                                            -
                                            <span t-esc="time.course_option_id.name"/>
                                        </b>
                                    </caption>
                                    <tr>
                                        <th style="width: 80px;">Subject</th>
                                        <th style="width: 80px;">Lecturer</th>
                                        <th style="width: 80px;">Campus</th>
                                        <th style="width: 87px;">Time</th>
                                        <th>Sessions</th>
                                    </tr>
                                    <t t-foreach="time.time_table_line_ids" t-as="line">
                                        <t t-if="line.course_code_id.id in data.get('course_code')">
                                            <tr>
                                                <td>
                                                    <div t-esc="line.course_code_id.name"/>
                                                    <div style="text-overflow: ellipsis;overflow: hidden;white-space: nowrap;" t-esc="line.course_code_id.description"/>
                                                </td>
                                                <td width="15%">
                                                    <t t-if="line.course_code_id.lecturer_ids">
                                                        <t t-foreach="line.course_code_id.lecturer_ids" t-as="lecturer">
                                                            <span t-esc="lecturer.name"/><br/>
                                                        </t>
                                                    </t>
                                                </td>
                                                <td width="10%">
                                                    <div t-esc="line.course_code_id.campus_id.name"/>
                                                </td>
                                                <td width="12%">
                                                    <div t-esc="line.day_selection.title()"/>
                                                    <span t-esc="line.start_time" t-options="{'widget':'float_time'}"/>
                                                    -
                                                    <span t-esc="line.end_time" t-options="{'widget':'float_time'}"/>
                                                </td>
                                                <td width="60%">
                                                    <div style="position:relative;white-space: initial;" id="cfo-cnr-jnr-color-picker">
                                                        <t t-foreach="line.time_table_week_ids" t-as="week">
                                                            <t t-set="val" t-value="week.color"/>
                                                            <t t-if="week.date or week.name">
                                                                <div class="time_table_div1" t-attf-style="background-color: #{val};max-width: 30.1%;margin-left: 5px;min-height: 53px;max-height: 53px;margin-bottom: 5px;text-align: center;border: 2px solid gainsboro;border-radius: 7px;padding: 3px;float:left;text-overflow: ellipsis;overflow: hidden;white-space: nowrap;">
                                                                    <span t-esc="week.date"/><br></br>
                                                                    <span t-esc="week.name"/>
                                                                </div>
                                                            </t>
                                                        </t>
                                                    </div>
                                                </td>
                                            </tr>
                                        </t>
                                    </t>
                                </table>
                            </div>
                        </t>
                </div>
                <div id="footer">
                    <center></center>
                </div>
        </t>
    </template>

    <template id="report_timetable">
        <t t-call="web.html_container">
<!--            <t t-foreach="docs" t-as="doc">-->
                <t t-call="cfo_snr_jnr.time_table_report" />
<!--            </t>-->
        </t>
    </template>
</data>
</odoo>